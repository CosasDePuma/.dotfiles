{ pkgs }: {
    nix.gc = {
        automatic = true;
        dates = "weekly";
        options = "--delete-older-than 30d";
    };
    systemd = {
        services.rmlogs = {
            description = "Log-garbage collector";
            serviceConfig = {
            Type = "oneshot";
            ExecStart = "${pkgs.systemd}/bin/journalctl --vacuum-time=30d";
        };
    };
        timers.rmlogs = {
            wantedBy = [ "timers.target" ];
            partOf = [ "rmlogs.service" ];
            timerConfig.OnCalendar = "weekly UTC";
        };
    };
}